<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>3.4.&nbsp;Worker configuration</title>
      <link rel="stylesheet" href="css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="index.html" title="Hibernate Search">
      <link rel="up" href="search-configuration.html" title="Chapter&nbsp;3.&nbsp;Configuration">
      <link rel="prev" href="ch03s03.html" title="3.3.&nbsp;Sharing indexes (two entities into the same directory)">
      <link rel="next" href="jms-backend.html" title="3.5.&nbsp;JMS Master/Slave configuration">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">3.4.&nbsp;Worker configuration</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="ch03s03.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">Chapter&nbsp;3.&nbsp;Configuration</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="jms-backend.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="section" lang="en-US">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both"><a name="d0e1034"></a>3.4.&nbsp;Worker configuration
                  </h2>
               </div>
            </div>
         </div>
         <p>It is possible to refine how Hibernate Search interacts with Lucene
            through the worker configuration. The work can be executed to the Lucene
            directory or sent to a JMS queue for later processing. When processed to
            the Lucene directory, the work can be processed synchronously or
                asynchronously to the transaction commit.
         </p>
         <p>You can define the worker configuration using the following
                properties
         </p>
         <div class="table"><a name="d0e1041"></a><p class="title"><b>Table&nbsp;3.2.&nbsp;worker configuration</b></p>
            <div class="table-contents">
               <table summary="worker configuration" border="1">
                  <colgroup>
                     <col align="center">
                     <col>
                  </colgroup>
                  <tbody>
                     <tr>
                        <td align="center">Property</td>
                        <td>Description</td>
                     </tr>
                     <tr>
                        <td align="center"><code class="literal">hibernate.search.worker.backend</code></td>
                        <td>Out of the box support for the Apache Lucene back end and
                                       the JMS back end. Default to <code class="literal">lucene</code>. Supports
                                       also <code class="literal">jms</code>.
                        </td>
                     </tr>
                     <tr>
                        <td align="center"><code class="literal">hibernate.search.worker.execution</code></td>
                        <td>Supports synchronous and asynchronous execution. Default
                                       to <code class="literal"><code class="literal">sync</code></code>. Supports also
                                       <code class="literal">async</code>.
                        </td>
                     </tr>
                     <tr>
                        <td align="center"><code class="literal">hibernate.search.worker.thread_pool.size</code></td>
                        <td>Defines the number of threads in the pool. useful only for
                                       asynchronous execution. Default to 1.
                        </td>
                     </tr>
                     <tr>
                        <td align="center"><code class="literal">hibernate.search.worker.buffer_queue.max</code></td>
                        <td>Defines the maximal number of work queue if the thread poll
                                       is starved. Useful only for asynchronous execution. Default to
                                       infinite. If the limit is reached, the work is done by the main
                                       thread.
                        </td>
                     </tr>
                     <tr>
                        <td align="center"><code class="literal">hibernate.search.worker.jndi.*</code></td>
                        <td>Defines the JNDI properties to initiate the InitialContext
                                       (if needed). JNDI is only used by the JMS back end.
                        </td>
                     </tr>
                     <tr>
                        <td align="center"><code class="literal">
                                          hibernate.search.worker.jms.connection_factory</code></td>
                        <td>Mandatory for the JMS back end. Defines the JNDI name to
                                       lookup the JMS connection factory from
                                       (<code class="literal">/ConnectionFactory</code> by default in JBoss
                                       AS)
                        </td>
                     </tr>
                     <tr>
                        <td align="center"><code class="literal">hibernate.search.worker.jms.queue</code></td>
                        <td>Mandatory for the JMS back end. Defines the JNDI name to
                                       lookup the JMS queue from. The queue will be used to post work
                                       messages.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div><br class="table-break"></div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="ch03s03.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="search-configuration.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="jms-backend.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">3.3.&nbsp;Sharing indexes (two entities into the same directory)&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;3.5.&nbsp;JMS Master/Slave configuration</td>
            </tr>
         </table>
      </div>
   </body>
</html>